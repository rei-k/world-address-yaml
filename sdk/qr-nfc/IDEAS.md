# ğŸ“± QRã¨NFCã§ã§ãã‚‹ã“ã¨ / What You Can Do with QR and NFC

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€`@vey/qr-nfc` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ´»ç”¨ã—ãŸä½æ‰€é–¢é€£ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## ğŸ¯ æ¦‚è¦

QRã‚³ãƒ¼ãƒ‰ã¨NFCã¯ã€ä½æ‰€æƒ…å ±ã®å…±æœ‰ãƒ»æ¤œè¨¼ãƒ»ç™»éŒ²ã‚’åŠ¹ç‡åŒ–ã™ã‚‹å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ãã‚Œãã‚Œã®ç‰¹æ€§ã‚’æ´»ã‹ã—ãŸæ´»ç”¨æ–¹æ³•ã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚

---

## ğŸ“¸ QRã‚³ãƒ¼ãƒ‰ã§ã§ãã‚‹ã“ã¨

### 1. ä½æ‰€è¨¼æ˜ï¼ˆAddress Proofï¼‰

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: æœ¬äººç¢ºèªãŒå¿…è¦ãªã‚µãƒ¼ãƒ“ã‚¹ã§ã€ä½æ‰€ã®å­˜åœ¨ã‚’è¨¼æ˜

```typescript
import { createAddressProof, generateQRData } from '@vey/qr-nfc';

const address = {
  country: 'JP',
  postal_code: '100-0001',
  province: 'æ±äº¬éƒ½',
  city: 'åƒä»£ç”°åŒº',
  street_address: 'åƒä»£ç”°1-1'
};

// 1æ™‚é–“æœ‰åŠ¹ãªä½æ‰€è¨¼æ˜QRã‚’ç”Ÿæˆ
const proof = createAddressProof(address, { expiresIn: 3600 });
const qrData = generateQRData(proof);
```

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸ“¦ å®…é…ä¾¿ã®å—å–äººç¢ºèª
- ğŸ  ä¸å‹•ç”£å¥‘ç´„æ™‚ã®å±…ä½ç¢ºèª
- ğŸ’³ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç”³è¾¼æ™‚ã®ä½æ‰€ç¢ºèª
- ğŸ›ï¸ è¡Œæ”¿ã‚µãƒ¼ãƒ“ã‚¹ã§ã®ä½æ‰€è¨¼æ˜

### 2. é…é€å…ˆãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ç™»éŒ²

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: ECã‚µã‚¤ãƒˆã‚„ã‚¢ãƒ—ãƒªã§é…é€å…ˆä½æ‰€ã‚’QRã‚¹ã‚­ãƒ£ãƒ³ã§ä¸€ç™ºå…¥åŠ›

```typescript
import { createAddressQR, generateQRData } from '@vey/qr-nfc';

// è‡ªåˆ†ã®ä½æ‰€QRã‚’ç”Ÿæˆï¼ˆååˆºã«å°åˆ·ãªã©ï¼‰
const addressQR = createAddressQR({
  country: 'JP',
  postal_code: '150-0001',
  province: 'æ±äº¬éƒ½',
  city: 'æ¸‹è°·åŒº',
  street_address: 'ç¥å®®å‰1-2-3'
}, 'my_home_address');

const qrData = generateQRData(addressQR);
```

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸ›’ ECã‚µã‚¤ãƒˆã®ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆæ™‚
- ğŸ“ ä¼šå“¡ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ 
- ğŸ ã‚®ãƒ•ãƒˆé…é€å…ˆå…¥åŠ›
- ğŸ“¬ è»¢å±…é€šçŸ¥

### 3. å®…é…ãƒ­ãƒƒã‚«ãƒ¼é€£æº

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: å®…é…ãƒ­ãƒƒã‚«ãƒ¼ã®å ´æ‰€æƒ…å ±ã‚’QRã‚³ãƒ¼ãƒ‰ã§å…±æœ‰

```typescript
import { createLockerQR, generateQRData } from '@vey/qr-nfc';

// ãƒ­ãƒƒã‚«ãƒ¼æƒ…å ±ã®QRã‚’ç”Ÿæˆ
const lockerQR = createLockerQR(
  'locker_001',
  'æ¸‹è°·é§…å‰ãƒ­ãƒƒã‚«ãƒ¼',
  {
    country: 'JP',
    postal_code: '150-0002',
    province: 'æ±äº¬éƒ½',
    city: 'æ¸‹è°·åŒº',
    street_address: 'æ¸‹è°·2-24-1'
  },
  'A-15' // ãƒœãƒƒã‚¯ã‚¹ç•ªå·
);

const qrData = generateQRData(lockerQR);
```

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸ“¦ é…é€æ¥­è€…ã¸ã®å—å–å ´æ‰€é€šçŸ¥
- ğŸª ã‚³ãƒ³ãƒ“ãƒ‹å—å–ã®å ´æ‰€æŒ‡å®š
- ğŸš‰ é§…ãƒ­ãƒƒã‚«ãƒ¼å—å–
- ğŸ¢ ã‚ªãƒ•ã‚£ã‚¹ãƒ“ãƒ«å†…å—å–ãƒœãƒƒã‚¯ã‚¹

### 4. é…é€çŠ¶æ³ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: è·ç‰©ã«è²¼ä»˜ã•ã‚ŒãŸQRã§é…é€çŠ¶æ³ã‚’ç¢ºèª

```typescript
import { generateQRData, QRPayload } from '@vey/qr-nfc';

const deliveryQR: QRPayload = {
  type: 'delivery',
  version: 1,
  data: {
    tracking_id: 'VEY-2024-001234',
    carrier: 'yamato',
    estimated_delivery: '2024-01-15T14:00:00Z',
    status_url: 'https://track.vey.example/VEY-2024-001234'
  }
};

const qrData = generateQRData(deliveryQR);
```

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸ“® è·ç‰©è¿½è·¡
- ğŸ”” é…é”é€šçŸ¥ã®ç¢ºèª
- ğŸ“ é…é”æ—¥æ™‚å¤‰æ›´
- â­ é…é€è©•ä¾¡ãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

### 5. ã‚¤ãƒ™ãƒ³ãƒˆä¼šå ´ãƒ»ä¸€æ™‚çš„ãªä½æ‰€

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: ã‚¤ãƒ™ãƒ³ãƒˆä¼šå ´ã‚„ä¸€æ™‚çš„ãªä½æ‰€ã‚’QRã§å…±æœ‰

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸª ãƒ•ã‚§ã‚¹ãƒ†ã‚£ãƒãƒ«ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆä¼šå ´ã¸ã®é…é€
- ğŸ¨ ãƒ›ãƒ†ãƒ«ãƒ»ä¸€æ™‚æ»åœ¨å…ˆã¸ã®é…é€
- ğŸ¥ å…¥é™¢å…ˆã¸ã®è·ç‰©é€ä»˜
- ğŸ“ å¤§å­¦å¯®ã¸ã®é…é€

---

## ğŸ“¡ NFCã§ã§ãã‚‹ã“ã¨

### 1. ã‚¿ãƒƒãƒ—ã§ä½æ‰€ç™»éŒ²

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: NFCã‚¿ã‚°ã«ä½æ‰€æƒ…å ±ã‚’æ›¸ãè¾¼ã¿ã€ã‚¹ãƒãƒ›ã§ã‚¿ãƒƒãƒ—ã—ã¦å³åº§ã«ç™»éŒ²

```typescript
import { createNFCHandler, NFCRecord } from '@vey/qr-nfc';

const nfc = createNFCHandler();

if (nfc.supported) {
  // NFCã‚¿ã‚°ã‹ã‚‰ä½æ‰€ã‚’èª­ã¿å–ã‚Š
  const record = await nfc.read();
  
  if (record?.type === 'address') {
    console.log('èª­ã¿å–ã£ãŸä½æ‰€:', record.data);
    // é…é€å…ˆã¨ã—ã¦è‡ªå‹•è¨­å®š
  }
}
```

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸ  ç„é–¢ã«è¨­ç½®ã—ãŸNFCã‚¿ã‚°ã§æ¥è¨ªè€…ã«ä½æ‰€å…±æœ‰
- ğŸ¢ ã‚ªãƒ•ã‚£ã‚¹ã®å—ä»˜ã§ã®ãƒ“ã‚¸ã‚¿ãƒ¼ç™»éŒ²
- ğŸ ã‚®ãƒ•ãƒˆã‚«ãƒ¼ãƒ‰ã«åŸ‹ã‚è¾¼ã‚“ã§é€ã‚Šä¸»æƒ…å ±ã‚’å…±æœ‰
- ğŸ“¦ ãƒªãƒ”ãƒ¼ãƒˆæ³¨æ–‡ã®ä½æ‰€å…¥åŠ›ã‚’çœç•¥

### 2. å®…é…ãƒœãƒƒã‚¯ã‚¹è§£éŒ 

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: NFCã§å®…é…ãƒœãƒƒã‚¯ã‚¹ã‚’è§£éŒ ãƒ»è·ç‰©å—å–

```typescript
import { createNFCHandler } from '@vey/qr-nfc';

const nfc = createNFCHandler();

if (nfc.supported) {
  const record = await nfc.read();
  
  if (record?.type === 'locker') {
    const { locker_id, compartment } = record.data;
    // ãƒ­ãƒƒã‚«ãƒ¼è§£éŒ APIã‚’å‘¼ã³å‡ºã—ï¼ˆå®Ÿéš›ã®APIå®Ÿè£…ã¯ã‚·ã‚¹ãƒ†ãƒ ã«ä¾å­˜ï¼‰
    // await yourLockerService.unlock(locker_id, compartment);
    console.log(`Unlocking locker ${locker_id}, compartment ${compartment}`);
  }
}
```

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸ” ã‚¹ãƒãƒ¼ãƒˆãƒ­ãƒƒã‚«ãƒ¼è§£éŒ 
- ğŸ“® ãƒãƒ³ã‚·ãƒ§ãƒ³å®…é…ãƒœãƒƒã‚¯ã‚¹
- ğŸª ç„¡äººåº—èˆ—ã§ã®å•†å“å—å–
- ğŸš— è»Šã®ãƒˆãƒ©ãƒ³ã‚¯ã¸ã®é…é”ï¼ˆãƒˆãƒ©ãƒ³ã‚¯ãƒ‡ãƒªãƒãƒªãƒ¼ï¼‰

### 3. é…é€å“¡èªè¨¼

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: é…é€å“¡ãŒNFCã‚«ãƒ¼ãƒ‰ã‚’ã‚¿ãƒƒãƒ—ã—ã¦é…é”å®Œäº†ã‚’è¨˜éŒ²

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- âœ… é…é”å®Œäº†ç¢ºèª
- ğŸ“ ã‚µã‚¤ãƒ³ä»£æ›¿ï¼ˆã‚¿ãƒƒãƒã§å—å–ç¢ºèªï¼‰
- ğŸ” é…é€å±¥æ­´ã®è¨˜éŒ²
- ğŸ‘¤ é…é€å“¡ã®èº«å…ƒç¢ºèª

### 4. ã‚¹ãƒãƒ¼ãƒˆãƒã‚¹ãƒˆé€£æº

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: NFCã‚¿ã‚°ä»˜ãã®ã‚¹ãƒãƒ¼ãƒˆãƒã‚¹ãƒˆã§è‡ªå‹•å—å–é€šçŸ¥

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸ“¬ æŠ•å‡½æ¤œçŸ¥ã¨é€šçŸ¥
- ğŸ“¦ è·ç‰©ã‚µã‚¤ã‚ºã®è‡ªå‹•è¨˜éŒ²
- ğŸ”” ä¸åœ¨æ™‚ã®å†é…é”ä¾é ¼
- ğŸ  ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ é€£æº

### 5. ååˆºãƒ»ãƒ“ã‚¸ãƒã‚¹ã‚«ãƒ¼ãƒ‰

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹**: NFCã‚¿ã‚°å†…è”µã®ååˆºã§ä¼šç¤¾ä½æ‰€ã‚’å…±æœ‰

```typescript
import { createNFCHandler, NFCRecord } from '@vey/qr-nfc';

const nfc = createNFCHandler();

// ååˆºã«æ›¸ãè¾¼ã‚€ä½æ‰€æƒ…å ±
const businessCard: NFCRecord = {
  type: 'address',
  data: {
    company: 'æ ªå¼ä¼šç¤¾Vey',
    department: 'å–¶æ¥­éƒ¨',
    recipient: 'å±±ç”°å¤ªéƒ',
    address: {
      country: 'JP',
      postal_code: '100-0005',
      province: 'æ±äº¬éƒ½',
      city: 'åƒä»£ç”°åŒº',
      street_address: 'ä¸¸ã®å†…1-1-1'
    }
  }
};

await nfc.write(businessCard);
```

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸ’¼ ãƒ“ã‚¸ãƒã‚¹ååˆº
- ğŸ¢ ä¼šç¤¾æ¡ˆå†…
- ğŸ‰ ã‚¤ãƒ™ãƒ³ãƒˆæ‹›å¾…çŠ¶
- ğŸ“§ é€£çµ¡å…ˆäº¤æ›

---

## ğŸ”„ QR + NFC è¤‡åˆæ´»ç”¨

### 1. ã‚ªãƒ ãƒ‹ãƒãƒ£ãƒãƒ«å—å–

QRã¨NFCä¸¡æ–¹ã«å¯¾å¿œã™ã‚‹ã“ã¨ã§ã€æ§˜ã€…ãªãƒ‡ãƒã‚¤ã‚¹ãƒ»ã‚·ãƒ¼ãƒ³ã«å¯¾å¿œï¼š

- **QR**: ã‚«ãƒ¡ãƒ©ä»˜ãã‚¹ãƒãƒ›å…¨èˆ¬
- **NFC**: Android / NFCå¯¾å¿œiPhone

### 2. ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æˆ¦ç•¥

```typescript
import { createNFCHandler, parseQRData } from '@vey/qr-nfc';

async function getAddress(input: string | undefined) {
  const nfc = createNFCHandler();
  
  // NFCãŒä½¿ãˆã‚Œã°NFCã‚’å„ªå…ˆ
  if (nfc.supported) {
    try {
      const record = await nfc.read();
      if (record) return record.data;
    } catch (e) {
      console.log('NFCèª­ã¿å–ã‚Šå¤±æ•—ã€QRã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯');
    }
  }
  
  // QRã‚³ãƒ¼ãƒ‰ã‚’ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  if (input) {
    const payload = parseQRData(input);
    if (payload) return payload.data;
  }
  
  return null;
}
```

### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ã‚¤ãƒ¤ãƒ¼

- **QR**: æš—å·åŒ–ã•ã‚ŒãŸä½æ‰€è¨¼æ˜
- **NFC**: ç‰©ç†çš„ãªè¿‘æ¥ãŒå¿…è¦ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Šï¼‰

---

## ğŸŒ å›½éš›é…é€ã§ã®æ´»ç”¨

### å¤šè¨€èªä½æ‰€å…±æœ‰

QR/NFCã«å¤šè¨€èªã®ä½æ‰€æƒ…å ±ã‚’æ ¼ç´ï¼š

```typescript
import { generateQRData, QRPayload } from '@vey/qr-nfc';

// å¤šè¨€èªå¯¾å¿œã®ä½æ‰€QRãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ï¼ˆã‚«ã‚¹ã‚¿ãƒ æ‹¡å¼µä¾‹ï¼‰
// æ³¨æ„: ã“ã‚Œã¯AddressInputã®æ¨™æº–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã¯ãªãã€
// å›½éš›é…é€å‘ã‘ã«ã‚«ã‚¹ã‚¿ãƒ æ‹¡å¼µã—ãŸãƒ‡ãƒ¼ã‚¿æ§‹é€ ã§ã™
const internationalAddressPayload: QRPayload = {
  type: 'address',
  version: 1,
  data: {
    // å›½éš›é…é€ç”¨ï¼ˆè‹±èªï¼‰
    address: {
      country: 'JP',
      postal_code: '100-0001',
      province: 'Tokyo',
      city: 'Chiyoda-ku',
      street_address: '1-1 Chiyoda'
    },
    // ç¾åœ°èªç‰ˆï¼ˆãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦ä¿æŒï¼‰
    address_local: {
      province: 'æ±äº¬éƒ½',
      city: 'åƒä»£ç”°åŒº',
      street_address: 'åƒä»£ç”°1-1'
    },
    language: 'ja'
  }
};

const qrData = generateQRData(internationalAddressPayload);
```

**æ´»ç”¨ã‚·ãƒ¼ãƒ³**:
- ğŸŒ è¶Šå¢ƒEC
- âœˆï¸ æµ·å¤–æ—…è¡Œä¸­ã®è·ç‰©å—å–
- ğŸ¢ å¤šå›½ç±ä¼æ¥­ã®ã‚ªãƒ•ã‚£ã‚¹é–“é…é€
- ğŸ“¦ è¼¸å‡ºå…¥è²¨ç‰©

---

## ğŸ’¡ å°†æ¥ã®ã‚¢ã‚¤ãƒ‡ã‚¢

### 1. ARé€£æº
- QRã‚¹ã‚­ãƒ£ãƒ³ã§é…é€ãƒ«ãƒ¼ãƒˆã‚’ARè¡¨ç¤º
- NFCã‚¿ã‚°ã§å»ºç‰©å†…ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

### 2. ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³é€£æº
- ä½æ‰€è¨¼æ˜ã®ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³è¨˜éŒ²
- æ”¹ã–ã‚“é˜²æ­¢ã®é…é€å±¥æ­´

### 3. IoTé€£æº
- ã‚¹ãƒãƒ¼ãƒˆãƒ‰ã‚¢ãƒ™ãƒ«ã¨ã®é€£æº
- è‡ªå‹•é…é€ãƒ­ãƒœãƒƒãƒˆã¸ã®ä½æ‰€é€ä¿¡

### 4. éŸ³å£°ã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆé€£æº
- NFCã‚¿ãƒƒãƒ—ã§éŸ³å£°æ¡ˆå†…èµ·å‹•
- QRã‚¹ã‚­ãƒ£ãƒ³ã§é…é€çŠ¶æ³ã‚’éŸ³å£°é€šçŸ¥

---

## ğŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [SDK README](../README.md)
- [@vey/qr-nfc ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰](./src/index.ts)
- [World Address YAML ãƒ‡ãƒ¼ã‚¿](../../README.md)

---

## ğŸ¤ è²¢çŒ®

æ–°ã—ã„ã‚¢ã‚¤ãƒ‡ã‚¢ã‚„æ´»ç”¨äº‹ä¾‹ãŒã‚ã‚Œã°ã€ãœã²Issueã‚„Pull Requestã§ã”ææ¡ˆãã ã•ã„ï¼
