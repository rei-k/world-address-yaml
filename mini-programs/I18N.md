# Internationalization (i18n) Notes

## Current Status

The current implementation includes some hard-coded strings in Japanese and Chinese for demonstration purposes. These should be externalized for production use.

## Localization Strategy

### Error Messages

The common module uses error codes instead of hard-coded messages:

```typescript
// Common module (validation.ts)
export const ValidationErrorCodes = {
  RECIPIENT_PID_REQUIRED: 'ERR_RECIPIENT_PID_REQUIRED',
  ITEMS_REQUIRED: 'ERR_ITEMS_REQUIRED',
  // ... etc
};
```

Platform-specific implementations should translate these codes:

```typescript
// WeChat implementation
const errorMessages = {
  'ERR_RECIPIENT_PID_REQUIRED': '受取人のPIDが必要です',
  'ERR_ITEMS_REQUIRED': '配送アイテムが必要です',
  // ...
};

// Alipay implementation
const errorMessages = {
  'ERR_RECIPIENT_PID_REQUIRED': '收件人PID必填',
  'ERR_ITEMS_REQUIRED': '配送物品必填',
  // ...
};
```

### UI Text

For production use, implement a proper i18n system:

```typescript
// i18n/index.ts
export const i18n = {
  'ja': {
    'loading': '読み込み中...',
    'success': '成功しました',
    'error': 'エラーが発生しました',
    // ...
  },
  'zh': {
    'loading': '加载中...',
    'success': '成功',
    'error': '发生错误',
    // ...
  },
  'en': {
    'loading': 'Loading...',
    'success': 'Success',
    'error': 'Error occurred',
    // ...
  }
};

export function t(key: string, locale: string = 'ja'): string {
  return i18n[locale][key] || key;
}
```

### Usage Example

```typescript
// Instead of:
showToast('読み込み中...');

// Use:
showToast(t('loading', getCurrentLocale()));
```

## Recommended Libraries

- **WeChat**: `miniprogram-i18n`
- **Alipay**: `@mini-ali/i18n`

## TODO

- [ ] Extract all hard-coded strings
- [ ] Implement i18n service in common module
- [ ] Add locale detection
- [ ] Support fallback languages
- [ ] Add translation files for ja/zh/en
